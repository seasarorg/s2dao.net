<?xml version="1.0" encoding="utf-8" ?> 
<!DOCTYPE components PUBLIC "-//SEASAR2.1//DTD S2Container//EN"
"http://www.seasar.org/dtd/components21.dtd">
<components namespace="Tests">

    <component class="Seasar.Dao.Tests.Interceptors.IEmployeeDao">
        <aspect>Tests.DaoInterceptor</aspect>
    </component>
    
    <component class="Seasar.Dao.Tests.Interceptors.IEmployeeAutoDao">
        <aspect>Tests.DaoInterceptor</aspect>
    </component>
    
    <component class="Seasar.Dao.Tests.Interceptors.IDepartmentAutoDao">
        <aspect>Tests.DaoInterceptor</aspect>
    </component>

    <!-- データプロバイダ -->
    <component name="SqlClient" class="Seasar.Extension.ADO.DataProvider">
        <property name="ConnectionType">"System.Data.SqlClient.SqlConnection"</property>
        <property name="CommandType">"System.Data.SqlClient.SqlCommand"</property>
        <property name="ParameterType">"System.Data.SqlClient.SqlParameter"</property>
        <property name="DataAdapterType">"System.Data.SqlClient.SqlDataAdapter"</property>
    </component>

    <!-- データソース -->
    <component name="DataSource" class="Seasar.Extension.Tx.Impl.TxDataSource">
        <property name="DataProvider">SqlClient</property>
        <property name="ConnectionString">"Server=(local);database=s2dotnetdemo;Integrated Security=SSPI"</property>
    </component>

    <component class="Seasar.Extension.Tx.Impl.TransactionContext">
    </component>

    <component name="RequiredTx" class="Seasar.Extension.Tx.TransactionInterceptor">
        <arg>
            <component class="Seasar.Extension.Tx.Impl.LocalRequiredTxHandler" />
        </arg>
    </component>
    <component name="RequiresNewTx" class="Seasar.Extension.Tx.TransactionInterceptor">
        <arg>
            <component class="Seasar.Extension.Tx.Impl.LocalRequiresNewTxHandler" />
        </arg>
    </component>
    <component name="SupportedTx" class="Seasar.Extension.Tx.TransactionInterceptor">
        <arg>
            <component class="Seasar.Extension.Tx.Impl.LocalSupportedTxHandler" />
        </arg>
    </component>
    <component name="NotSupportedTx" class="Seasar.Extension.Tx.TransactionInterceptor">
        <arg>
            <component class="Seasar.Extension.Tx.Impl.LocalNotSupportedTxHandler" />
        </arg>
    </component>

    <!-- S2Dao.NETのDaoInterceptorとそれに必要なコンポーネント -->
    <component class="Seasar.Extension.ADO.Impl.BasicDataReaderFactory" />
    <component class="Seasar.Extension.ADO.Impl.BasicCommandFactory" />
    <component class="Seasar.Dao.Impl.DaoMetaDataFactoryImpl" />
    <component name="DaoInterceptor"
        class="Seasar.Dao.Interceptors.S2DaoInterceptor"/>
        

</components>